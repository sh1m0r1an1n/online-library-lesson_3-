# ‚ú® Clean Python / Django Guidelines

> ¬´–ü—Ä–∞–≤–∏–ª–∞ ‚Äî —ç—Ç–æ —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –°–ª–µ–¥—É–π—Ç–µ –∏–º, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ.¬ª

---

## 1. üêç  Clean Python (–¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞)

### 1.1 –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
* `snake_case` –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/—Ñ—É–Ω–∫—Ü–∏–π, `PascalCase` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤.
* –ì–ª–∞–≤–Ω–æ–µ —Å–ª–æ–≤–æ –≤ –∫–æ–Ω—Ü–µ: `get_user_profile()`, –∞ –Ω–µ `profile_get()`.
* **–ù–∏–∫–∞–∫–∏—Ö –±–µ–∑—ã–º—è–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤.**  –ß–∏—Å–ª–æ/—Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω—ã **–æ–±—ä—è—Å–Ω—è—Ç—å —Å–µ–±—è**:  
  **–ü–ª–æ—Ö–æ:** `user_id = 42` / `func(10, 20)`  
  **–•–æ—Ä–æ—à–æ:** `moscow_timezone_offset = 3` / `resize(img, width=1920, height=1080)`.
* –ò–∑–±–µ–≥–∞–µ–º ¬´data/info/object/item/result¬ª.  
  **–ü–ª–æ—Ö–æ:** `def process_data(data):`  
  **–•–æ—Ä–æ—à–æ:** `def filter_expired_coupons(coupons):`.

### 1.2 –§—É–Ω–∫—Ü–∏–∏
* –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ, ‚â§ 20 —Å—Ç—Ä–æ–∫.
* –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
* –í—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç doctstring-–æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω–∏–∫:  
  `"""–§–∏–ª—å—Ç—Ä—É–µ—Ç –∏—Å—Ç—ë–∫—à–∏–µ –∫—É–ø–æ–Ω—ã."""`

### 1.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞
1. –ò–º–ø–æ—Ä—Ç—ã (`stdlib`, `third-party`, `local`).
2. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã.
3. –õ–æ–≥–∏–∫–∞ (—Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã).
4. `main()`.
5. `if __name__ == "__main__": main()`.

### 1.4 –û—à–∏–±–∫–∏
* `try/except` —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
* –õ–æ–≤–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è ‚Üí –ª–æ–≥–∏—Ä—É–µ–º ‚Üí —Å–æ–æ–±—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### 1.5 –í–≤–æ–¥ / –í—ã–≤–æ–¥
* –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤/—Å–µ—Ç–∏ ‚Äî –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö-–æ–±—ë—Ä—Ç–∫–∞—Ö.
* –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–¥–µ–ª–µ–Ω–∞ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞.

### 1.6 –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π
```python
nums = [
    1, 2, 3,
    4, 5, 6,
]
url = build_url(base="/search", q="python", page=2)
```

### 1.7 –ü–∞–∫–µ—Ç
* `requirements.txt`, `.gitignore`, `.env.example`, `README.md`.

### 1.8 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
* **pytest** + `pytest-cov` ‚Äî –ø–∏—à–µ–º –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã.
* –õ–∏–Ω—Ç–µ—Ä—ã: `ruff`/`flake8`, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî `black` –∏–ª–∏ `ruff format`.
* CI (GitHub Actions): `python -m pip install -r requirements.txt && pytest`.

### 1.9 –°—Ç–∏–ª—å –∫–æ–¥–∞ (Zen / PEP)
* **Flat is better than nested** ‚Äî –∏–∑–±–µ–≥–∞–µ–º –ª–∏—à–Ω–∏—Ö `if/else/for`-–≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–µ–π, –≤—ã–Ω–æ—Å–∏–º –ª–æ–≥–∏–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏.
* **Be Pythonic, but explicit** ‚Äî `any(x > 0 for x in nums)` –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.
* **Type hints** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π/–º–µ—Ç–æ–¥–æ–≤, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö.
* –°–ª–µ–¥—É–µ–º `PEP 8` (—Å—Ç–∏–ª—å), `PEP 257` (docstrings). –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî `black`/`ruff`.
* –í—Å–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã ‚Äî —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:  
  `send_mail(subject="Hi", message="...", to=["user@example.com"])`.
* **–ù–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** ‚Äî –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥ > –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è docstring –∏ TODO.
* GET-–∑–∞–ø—Ä–æ—Å—ã ‚ûú –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—ë–º —Å–ª–æ–≤–∞—Ä—ë–º: `requests.get(url, params={"q": "python"})`.

### 1.10 main()
* –í—Å–µ ¬´—Å–∫—Ä–∏–ø—Ç–æ–≤—ã–µ¬ª –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π ‚Äî —á–µ—Ä–µ–∑ `main()`, –∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—ë–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏; –Ω–∏–∫–∞–∫–æ–π ¬´–º–∞–≥–∏–∏¬ª –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ.

---

## 2. üï∏Ô∏è  Django Best Practices

### 2.1 –ú–æ–¥–µ–ª–∏
* `related_name`, `verbose_name`, `help_text`, `db_index`.
* `__str__` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ.
* –°–∏–≥–Ω–∞–ª—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ `Model.save()`.

### 2.2 Views
* –õ–æ–≥–∏–∫–∞ ‚Äî –≤–æ –≤—å—é—Ö–∞—Ö –∏–ª–∏ —Å–µ—Ä–≤–∏—Å-—Å–ª–æ–µ, –∞ –Ω–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö.
* CBV/FBV ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω —Å—Ç–∏–ª—å –Ω–∞ –ø—Ä–æ–µ–∫—Ç.

### 2.3 Admin Cheat-Sheet

```python
@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display = ("title", "author", "published_at", "likes_count")
    list_display_links = ("title",)
    list_filter = ("author", "tags", "published_at")
    list_select_related = ("author",)  # —É–º–µ–Ω—å—à–∞–µ—Ç N+1
    search_fields = ("title", "text", "author__username")
    autocomplete_fields = ("tags",)
    filter_horizontal = ("tags",)      # –¥–ª—è M2M
    readonly_fields = ("created", "updated")
    prepopulated_fields = {"slug": ("title",)}
    ordering = ("-published_at",)
    date_hierarchy = "published_at"
    list_per_page = 50
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|----------|------------|
| `list_display` / `list_display_links` | –ö–æ–ª–æ–Ω–∫–∏ –∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ |
| `list_filter` | –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–ø—Ä–∞–≤–∞ |
| `list_select_related` | –ê–≤—Ç–æ-`select_related()` –≤ —Å–ø–∏—Å–∫–µ |
| `search_fields` | –ü–æ–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ |
| `filter_horizontal` | –£–¥–æ–±–Ω—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è M2M |
| `autocomplete_fields` / `raw_id_fields` | –ü–æ–∏—Å–∫ –ø–æ FK/M2M |
| `readonly_fields` | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `prepopulated_fields` | –ê–≤—Ç–æ-–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ `slug` –∏–∑ `title` |
| `date_hierarchy` | –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º |
| `list_per_page` | –ü–∞–≥–∏–Ω–∞—Ü–∏—è |
| `fieldsets` / `inlines` | –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º—ã + —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ |

### 2.4 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
* Django-Debug-Toolbar –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ SQL.
* –ö—ç—à fragment / per-view / low-level.

### 2.5 QuerySets –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

```python
class PostQuerySet(models.QuerySet):
    def published(self):
        """–§–∏–ª—å—Ç—Ä—É–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã."""
        return self.filter(is_draft=False)

    def popular(self):
        return self.annotate(likes=models.Count("likes")).order_by("-likes")


class Post(models.Model):
    # ‚Ä¶ –ø–æ–ª—è ‚Ä¶

    # ¬´objects¬ª ‚Üí –±–∞–∑–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä, ¬´public¬ª ‚Üí –∫–∞—Å—Ç–æ–º–Ω—ã–π
    objects = models.Manager()
    public = PostQuerySet.as_manager()

```

**–ü–ª—é—Å—ã –∫–∞—Å—Ç–æ–º–Ω—ã—Ö QuerySet-–æ–≤**
* `Post.public.published().popular()` ‚Äî —á–∏—Ç–∞–µ–º–æ, –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å.

**–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã QuerySet**

### 2.6 Production-tips
* `DEBUG = False`, `ALLOWED_HOSTS`, `SECURE_*` headers.
* WSGI-—Å–µ—Ä–≤–µ—Ä ‚Äî Gunicorn/Uvicorn, `--workers = 2√óCPU`.
* –°—Ç–∞—Ç–∏–∫–∞: `collectstatic` + nginx.
* –ë–î: –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä/PostgreSQL, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã.

### 2.7 Django > Python (—á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
| Python | Django QuerySet | –ü–æ—á–µ–º—É –ª—É—á—à–µ |
|--------|-----------------|-------------|
| `sorted(qs, key=...)` | `qs.order_by()` | —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î, –Ω–µ –≥—Ä—É–∑–∏–º –≤—Å—ë –≤ –ø–∞–º—è—Ç—å |
| `len(qs)` | `qs.count()` | `COUNT(*)` –±–µ–∑ –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö |
| `obj in qs` | `qs.filter(pk=obj.pk).exists()` | –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è 1 –∑–∞–ø—Ä–æ—Å–æ–º |
| `list(set(ids))` | `qs.values_list("id", flat=True).distinct()` | `DISTINCT` –≤ –ë–î |

### 2.8 –ö–æ—Ä–æ—Ç–∫–∏–µ —à–æ—Ä—Ç–∫–∞—Ç—ã
* `get_object_or_404(Model, **lookup)`  ‚Äî –≤–º–µ—Å—Ç–æ `try/except DoesNotExist`.
* `redirect("view-name", pk=obj.pk)`  ‚Äî –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ `HttpResponseRedirect`.
* `render(request, "template.html", ctx)`  ‚Äî —à–æ—Ä—Ç–∫–∞—Ç –¥–ª—è `TemplateResponse`.

### 2.9 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Django ORM –≤–∞–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–¥—Ö–æ–¥—ã:

- –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã N+1 –∑–∞–ø—Ä–æ—Å–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  - `select_related()` –¥–ª—è –ø–æ–ª–µ–π ForeignKey –∏ OneToOne;
  - `prefetch_related()` –¥–ª—è ManyToMany –∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö —Å–≤—è–∑–µ–π.
  –ü—Ä–∏–º–µ—Ä:
  ```python
  # –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
  posts = Post.objects.all()
  for post in posts:
      print(post.author.username)

  # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
  posts = Post.objects.select_related('author').all()
  for post in posts:
      print(post.author.username)
  ```

- –ù–µ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ü–∏–∫–ª–∞—Ö ‚Äì –æ–±—ä–µ–¥–∏–Ω—è–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ ORM, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (`annotate()`, `aggregate()`) –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ `values()`/`values_list()` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î.
- –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `F()` –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ SQL.
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤ (`Subquery()`, `OuterRef()`) –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.
- –ò–∑–±–µ–≥–∞–π—Ç–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `.all()` ‚Äì —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `filter()`, –∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `only()` –∏–ª–∏ `defer()` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–±–∏—Ä–∞–µ–º—ã—Ö –ø–æ–ª–µ–π.
- –°—ã—Ä–æ–π SQL —á–µ—Ä–µ–∑ `raw()` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ORM –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Prefetch()` –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–æ–π —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ–∑–≤–æ–ª—è—è –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ `Coalesce()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ NULL-–∑–Ω–∞—á–µ–Ω–∏–π, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—è—Ö.

–°–ª–µ–¥—É—è —ç—Ç–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º, –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## 3. ü§ñ  Guidelines for AI (–µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –ø–æ—Ä—É—á–µ–Ω–∞ LLM)

1. **–ù–µ –≤—ã–¥—É–º—ã–≤–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.**  –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã –∏–∑ –∑–∞–¥–∞–Ω–∏—è/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
2. **–ì–µ–Ω–µ—Ä–∏—Ä—É–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π diff.**  –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ –ø–æ–≤—Ç–æ—Ä—è–π —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ + `// ... existing code ...`.
3. **–ë–µ–∑ ¬´–≤–æ–ª—à–µ–±–Ω—ã—Ö¬ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.**  –õ—é–±–∞—è –Ω–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ `requirements.txt`.
4. **–°–æ–±–ª—é–¥–∞–π –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ —Ä–∞–∑–¥. 1 –∏ 2.**  –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, `select_related()` –∏ —Ç.–¥.
5. **–¢–µ—Å—Ç–∏—Ä—É–π –º–µ–Ω—Ç–∞–ª—å–Ω–æ.**  –ü–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞.
6. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π-–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—ã–Ω–µ—Å–∏ –≤ —á–∞—Ç, –Ω–µ –≤ –∫–æ–¥.**

---

## 4. üöÄ –ü—Ä–∏–º–µ—Ä
```python
from datetime import datetime
from typing import Iterable

TODAY = datetime.now().date()

def filter_expired_coupons(coupons: Iterable["Coupon"]) -> list["Coupon"]:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—É–ø–æ–Ω—ã, —Å—Ä–æ–∫ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –∏—Å—Ç—ë–∫."""
    return [coupon for coupon in coupons if coupon.expired_at >= TODAY]
```

## 5. üìë Django Model Fields Cheat-Sheet

> –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è + —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–ø—É—â–µ–Ω—ã, –µ—Å–ª–∏ –æ–Ω–∏ –æ—á–µ–≤–∏–¥–Ω—ã.
>
> **–û–±—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:** `verbose_name`, `help_text`, `null`, `blank`, `default`, `choices`, `db_index`, `unique`, `editable`, `validators`.

### 5.1 –ê–≤—Ç–æ- –∏ —á–∏—Å–ª–æ–≤—ã–µ
| –ü–æ–ª–µ | –ö–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-------------------|--------|
| `AutoField` / `BigAutoField` | primary_key<br>`BigAutoField` = `BIGINT` | `id = models.BigAutoField(primary_key=True)` |
| `IntegerField` / `SmallIntegerField` / `PositiveIntegerField` | `null`, `blank` | `rating = models.PositiveIntegerField()` |
| `DecimalField` | `max_digits`, `decimal_places` | `price = models.DecimalField(max_digits=10, decimal_places=2)` |
| `FloatField` | ‚Äî | `weight = models.FloatField()` |
| `DurationField` | ‚Äî | `ttl = models.DurationField()` |

### 5.2 –°—Ç—Ä–æ–∫–æ–≤—ã–µ
| –ü–æ–ª–µ | –ö–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-------------------|--------|
| `CharField` | `max_length` | `name = models.CharField(max_length=120)` |
| `TextField` | ‚Äî | `description = models.TextField(blank=True)` |
| `SlugField` | `max_length`, `allow_unicode` | `slug = models.SlugField(max_length=200, unique=True)` |
| `EmailField` / `URLField` | `max_length` | `email = models.EmailField()` |
| `UUIDField` | `default=uuid4`, `editable=False` | `uuid = models.UUIDField(default=uuid.uuid4, editable=False)` |
| `JSONField` | `encoder`, `decoder` | `meta = models.JSONField(blank=True, default=dict)` |

### 5.3 –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
| –ü–æ–ª–µ | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| `DateField` / `TimeField` | `auto_now`, `auto_now_add` | `created = models.DateField(auto_now_add=True)` |
| `DateTimeField` | —Ç–µ –∂–µ | `updated = models.DateTimeField(auto_now=True)` |

### 5.4 –§–∞–π–ª—ã –∏ –º–µ–¥–∏–∞
| –ü–æ–ª–µ | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| `FileField` / `ImageField` | `upload_to`, `storage`, `max_length` | `avatar = models.ImageField(upload_to="avatars/")` |
| `BinaryField` | `editable=False` | `raw = models.BinaryField()` |

### 5.5 –°–µ—Ç–µ–≤—ã–µ
| –ü–æ–ª–µ | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| `GenericIPAddressField` | `protocol="IPv4/IPv6/both"`, `unpack_ipv4` | `ip = models.GenericIPAddressField(protocol="IPv4")` |

### 5.6 –°–≤—è–∑–∏
| –ü–æ–ª–µ | –ö–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|-------------------|--------|
| `ForeignKey` | `to`, `on_delete`, `related_name`, `limit_choices_to`, `db_constraint` | `author = models.ForeignKey(User, on_delete=models.CASCADE, related_name="posts")` |
| `OneToOneField` | –≤—Å—ë –∫–∞–∫ —É `ForeignKey` + `parent_link` | `profile = models.OneToOneField(User, on_delete=models.CASCADE)` |
| `ManyToManyField` | `to`, `related_name`, `through`, `through_fields`, `db_table` | `tags = models.ManyToManyField(Tag, related_name="posts")` |

### 5.7 –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è/–∏–Ω–¥–µ–∫—Å—ã (Meta)
```python
class Meta:
    indexes = [models.Index(fields=["slug", "published_at"])]
    constraints = [models.UniqueConstraint(fields=["slug"], name="uniq_slug")] 
```

### 5.8 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
| –ü–æ–ª–µ | –•—Ä–∞–Ω–∏—Ç | –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã | –ü—Ä–∏–º–µ—Ä |
|------|--------|-----------------|--------|
| `BooleanField` | `True/False` | `default=False` | `is_active = models.BooleanField(default=True)` |
| `BigIntegerField` | 64-bit int | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ > 2^31 | `views = models.BigIntegerField()` |
| `PositiveSmallIntegerField` | 0‚Ä¶32767 | –º–∞–ª–µ–Ω—å–∫–∏–π UNSIGNED | `age = models.PositiveSmallIntegerField()` |
| `FilePathField` | –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É | `path`, `match`, `recursive` | `log_file = models.FilePathField(path="/var/log", match=".*\.log")` |
| `ArrayField`* | –º–∞—Å—Å–∏–≤ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ | only PostgreSQL | `tags = ArrayField(models.CharField(max_length=20))` |
| `HStoreField`* | key/value (—Å—Ç—Ä–æ–∫–∏) | only PostgreSQL | `meta = HStoreField()` |
| `CITextField`* | case-insensitive text | only PG/`django.contrib.postgres` | `email = CITextField(unique=True)` |
| `GeometryField` / `PointField` | –≥–µ–æ-–¥–∞–Ω–Ω—ã–µ | GeoDjango | `location = PointField()` |
| `MoneyField`** | –¥–µ–Ω—å–≥–∏ + –≤–∞–ª—é—Ç–∞ | –∏–∑ `django-money` | `price = MoneyField(max_digits=14, decimal_places=2, default_currency='USD')` |

\* ‚Äî –∏–∑ `django.contrib.postgres`.  
\** ‚Äî —Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –¥–æ–±–∞–≤–∏—Ç—å –≤ `requirements.txt`.

### 5.9 –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞)
| –ê—Ä–≥—É–º–µ–Ω—Ç | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç | –ü—Ä–∏–º–µ—Ä |
|----------|-----------|--------|
| `verbose_name` | –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—è –≤ –∞–¥–º–∏–Ω–∫–µ | `title = models.CharField(max_length=200, verbose_name="–ó–∞–≥–æ–ª–æ–≤–æ–∫")` |
| `help_text` | –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–¥ –ø–æ–ª–µ–º | `slug = models.SlugField(help_text="url-–∏–º—è, –ª–∞—Ç–∏–Ω–∏—Ü–∞")` |
| `null` / `blank` | `null` ‚Äî –≤ –ë–î, `blank` ‚Äî –≤ —Ñ–æ—Ä–º–∞—Ö | `middle_name = models.CharField(max_length=60, null=True, blank=True)` |
| `default` | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `is_active = models.BooleanField(default=False)` |
| `choices` | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π | `status = models.CharField(max_length=20, choices=Status.choices)` |
| `unique` | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–ª–æ–Ω–∫–µ | `slug = models.SlugField(unique=True)` |
| `db_index` | –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å | `created = models.DateTimeField(db_index=True)` |
| `on_delete` | –ü–æ–≤–µ–¥–µ–Ω–∏–µ FK –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ | `models.CASCADE / PROTECT / SET_NULL` |
| `related_name` | –ò–º—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ | `author = models.ForeignKey(User, related_name="posts", ...)` |
| `upload_to` | –ü—É—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ | `image = models.ImageField(upload_to="blog/%Y/%m/%d")` |
| `auto_now` / `auto_now_add` | –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏ | `updated = models.DateTimeField(auto_now=True)` |
| `max_digits`, `decimal_places` | –î–ª—è `DecimalField` | `price = models.DecimalField(max_digits=8, decimal_places=2)` |

---

## 6. ‚öôÔ∏è  –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã CLI (Python & Django)

### 6.1 Python / venv
```bash
# —Å–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate        # Linux/macOS
venv\Scripts\activate          # Windows

# —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
pip freeze > requirements.txt   # –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏–∏

# –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
python main.py --help

# –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
deactivate                           # –≤—ã–π—Ç–∏ –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pip list                             # –ø–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
python -m pip install --upgrade pip  # –æ–±–Ω–æ–≤–∏—Ç—å pip –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
cd <–ø—É—Ç—å>                       # –ø–µ—Ä–µ–π—Ç–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
pip install <–ø–∞–∫–µ—Ç>             # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
pip uninstall <–ø–∞–∫–µ—Ç>           # —É–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç
python --version                # –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é Python
```

### 6.2 Django –æ—Å–Ω–æ–≤–Ω—ã–µ
```bash
# –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver

# –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py makemigrations           # —Å–æ–∑–¥–∞—Ç—å
python manage.py makemigrations app --empty comment  # –ø—É—Å—Ç–∞—è
python manage.py migrate                  # –ø—Ä–∏–º–µ–Ω–∏—Ç—å
python manage.py showmigrations           # —Å–ø–∏—Å–æ–∫
python manage.py migrate app 0003         # –æ—Ç–∫–∞—Ç –¥–æ 0003

# superuser –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å
python manage.py createsuperuser
python manage.py shell_plus --ipython     # django-extensions

# —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
django-admin startproject myproject
python manage.py startapp blog

# –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
python manage.py check                  # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
python manage.py collectstatic          # —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python manage.py dbshell                # –æ—Ç–∫—Ä—ã—Ç—å –æ–±–æ–ª–æ—á–∫—É –ë–î –ø—Ä–æ–µ–∫—Ç–∞
python manage.py dumpdata > data.json   # —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
python manage.py loaddata data.json     # –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
python manage.py shell                # –∑–∞–π—Ç–∏ –≤ Django shell
exit()                                  # –≤—ã–π—Ç–∏ –∏–∑ Django shell
```

### 6.3 –¢–µ—Å—Ç—ã / –∫–∞—á–µ—Å—Ç–≤–æ
```bash
pytest -q                # –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest --cov=app tests/  # + –ø–æ–∫—Ä—ã—Ç–∏–µ
ruff check .             # –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è
ruff format .            # –∞–≤—Ç–æ-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### 6.4 –û—Å–Ω–æ–≤–Ω—ã–µ Linux –∫–æ–º–∞–Ω–¥—ã
```bash
pwd                             # –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
ls -la                          # –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Ñ–∞–π–ª—ã –∏ –∫–∞—Ç–∞–ª–æ–≥–∏
cd <–ø—É—Ç—å>                       # –ø–µ—Ä–µ–π—Ç–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
nano <—Ñ–∞–π–ª>                     # –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ nano
vim <—Ñ–∞–π–ª>                      # –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ vim
./<—Å–∫—Ä–∏–ø—Ç>                      # –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
bash <—Å–∫—Ä–∏–ø—Ç.sh>                # –∑–∞–ø—É—Å—Ç–∏—Ç—å bash-—Å–∫—Ä–∏–ø—Ç
<–∫–æ–º–∞–Ω–¥–∞> &                     # –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ —Ñ–æ–Ω–µ
nohup <–∫–æ–º–∞–Ω–¥–∞> &               # –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞
chmod +x <—Ñ–∞–π–ª>                 # —Å–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod 755 <—Ñ–∞–π–ª>                # –∑–∞–¥–∞—Ç—å –ø—Ä–∞–≤–∞ rwxr-xr-x
export VAR=value                # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
printenv VAR                    # –ø–æ–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
env                             # –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
# r (read=4), w (write=2), x (execute=1)
chmod 644 <—Ñ–∞–π–ª>               # rw-r--r--
chmod 600 <—Ñ–∞–π–ª>               # rw-------
chown <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å>:<–≥—Ä—É–ø–ø–∞> <—Ñ–∞–π–ª>  # —Å–º–µ–Ω–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –≥—Ä—É–ø–ø—É
# –ü–∞–π–ø—ã –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
<–∫–æ–º–∞–Ω–¥–∞1> | <–∫–æ–º–∞–Ω–¥–∞2>        # –ø–µ—Ä–µ–¥–∞—Ç—å –≤—ã–≤–æ–¥ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –≤—Ç–æ—Ä–æ–π
<–∫–æ–º–∞–Ω–¥–∞1> && <–∫–æ–º–∞–Ω–¥–∞2>       # –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ç–æ—Ä—É—é –∫–æ–º–∞–Ω–¥—É, –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è —É–¥–∞–ª–∞—Å—å
<–∫–æ–º–∞–Ω–¥–∞1>; <–∫–æ–º–∞–Ω–¥–∞2>         # –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
# –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:
echo "—Ç–µ–∫—Å—Ç" > —Ñ–∞–π–ª.txt        # –∑–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —Ñ–∞–π–ª (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å)
echo "—Ç–µ–∫—Å—Ç" >> —Ñ–∞–π–ª.txt       # –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
cat —Ñ–∞–π–ª.txt                   # –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
# –°–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã:
ls -a                          # –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã, –≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ
# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª—ã:
chmod u+rw,go-w <—Ñ–∞–π–ª>        # –¥–æ–±–∞–≤–∏—Ç—å rw –≤–ª–∞–¥–µ–ª—å—Ü—É, —É–±—Ä–∞—Ç—å w –≥—Ä—É–ø–ø–µ –∏ –ø—Ä–æ—á–∏–º
# –í—ã—Ö–æ–¥ –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤:
# vim: :q (–≤—ã–π—Ç–∏), :wq (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏)
# nano: Ctrl+X, –∑–∞—Ç–µ–º Y/Enter ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏
# –§–∞–π–ª—ã —Å —Å–∏–º–≤–æ–ª–æ–º '~' –∏–ª–∏ '$' –≤ –∫–æ–Ω—Ü–µ ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Ñ–∞–π–ª–æ–≤, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, file.txt~)
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ $VAR
# –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏:
# vim ‚Äî modal editor: –Ω–∞–∂–º–∏—Ç–µ i –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏, Esc –¥–ª—è –∫–æ–º–∞–Ω–¥, :wq –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –≤—ã—Ö–æ–¥–∞
# nano ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä: Ctrl+O –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, Ctrl+X –¥–ª—è –≤—ã—Ö–æ–¥–∞
# –°–ø—Ä–∞–≤–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
<–∫–æ–º–∞–Ω–¥–∞> --help / <–∫–æ–º–∞–Ω–¥–∞> -h    # –∫—Ä–∞—Ç–∫–∞—è/–ø–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
man <–∫–æ–º–∞–Ω–¥–∞>                      # –º–∞–Ω-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
info <–∫–æ–º–∞–Ω–¥–∞>                     # info-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
whatis <–∫–æ–º–∞–Ω–¥–∞>                   # –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
type <–∫–æ–º–∞–Ω–¥–∞>                     # —Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã –∏ –ø—É—Ç—å –¥–æ –Ω–µ—ë
tree -d -a                         # –¥–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ —Ñ–∞–π–ª–æ–≤, –≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ
which <–∫–æ–º–∞–Ω–¥–∞>                    # –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É
whereis <–∫–æ–º–∞–Ω–¥–∞>                  # —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
touch <—Ñ–∞–π–ª>                       # —Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
mkdir -p <–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è>              # —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥, –≤–∫–ª—é—á–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ
cp -r <–∏—Å—Ç–æ—á–Ω–∏–∫> <–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ>      # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
mv <–∏—Å—Ç–æ—á–Ω–∏–∫> <–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ>         # –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
rm -r <—Ñ–∞–π–ª/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è>            # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
# Pipes –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
<–∫–æ–º–∞–Ω–¥–∞1> | <–∫–æ–º–∞–Ω–¥–∞2>            # –ø–µ—Ä–µ–¥–∞—Ç—å –≤—ã–≤–æ–¥ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –≤—Ç–æ—Ä–æ–π
<–∫–æ–º–∞–Ω–¥–∞1> && <–∫–æ–º–∞–Ω–¥–∞2>           # –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ç–æ—Ä—É—é, –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è —É—Å–ø–µ—à–Ω–∞
<–∫–æ–º–∞–Ω–¥–∞1>; <–∫–æ–º–∞–Ω–¥–∞2>             # –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
# –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:
echo "—Ç–µ–∫—Å—Ç" > —Ñ–∞–π–ª.txt            # –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª
echo "—Ç–µ–∫—Å—Ç" >> —Ñ–∞–π–ª.txt           # –¥–æ–ø–∏—Å–∞—Ç—å –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
cat —Ñ–∞–π–ª.txt                        # –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
# –ü—Ä–æ—Å–º–æ—Ç—Ä:
less <—Ñ–∞–π–ª>                        # –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
# –ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
sudo -u <–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> <–∫–æ–º–∞–Ω–¥–∞>   # –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su [<–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å>]                # –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# –ü–æ–∏—Å–∫:
grep '<–ø–∞—Ç—Ç–µ—Ä–Ω>' <—Ñ–∞–π–ª>            # –ø–æ–∏—Å–∫ –ø–æ —à–∞–±–ª–æ–Ω—É
```

---

## 7. üìÇ Django project structure (—á—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç)

| –ü—É—Ç—å | –°–æ–¥–µ—Ä–∂–∏—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|----------|-------------|
| `manage.py` | CLI-–æ–±—ë—Ä—Ç–∫–∞ | –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞, –º–∏–≥—Ä–∞—Ü–∏–∏ |
| `project/settings.py` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | DEBUG, DATABASES, INSTALLED_APPS |
| `project/urls.py` | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã | `include(app.urls)` |
| `app/models.py` | –ú–æ–¥–µ–ª–∏ | ORM-—Å–ª–æ–π |
| `app/views.py` | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã | FBV/CBV |
| `app/urls.py` | URL-—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ß—ë—Ç–∫–æ –æ—Ç—Ä–∞–∂–∞—é—Ç REST |
| `templates/` | HTML-—à–∞–±–ª–æ–Ω—ã | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ |
| `static/` | CSS/JS/img | –°–æ–±–∏—Ä–∞–µ—Ç—Å—è `collectstatic` |
| `media/` | –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª—ã | –°–µ—Ä–≤–∏—Ç—Å—è nginx |
| `requirements.txt` | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ–º |
| `.env` | –°–µ–∫—Ä–µ—Ç—ã | –ù–ï –∫–æ–º–º–∏—Ç–∏–º |

---

## 8 –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ PostgreSQL
- [YouTube –ø–ª–µ–π–ª–∏—Å—Ç](https://www.youtube.com/playlist?list=PLPPIc-4tm3YQsdhSV1qzAgDKTuMUNnPmp)
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è PostgreSQL 17.4 (–ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è —É–¥–∞–ª–µ–Ω–∞)
- –ü–∞—Ä–æ–ª—å: ``
- –ü–æ—Ä—Ç: 5432 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –º–µ–Ω—é ¬´–ü—É—Å–∫¬ª: `PostgreSQL 17`
- `pgAdmin 4` ‚Äî –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- `SQL Shell (psql)` ‚Äî –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤—Ä—É—á–Ω—É—é
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ psql:
  - `\?` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
  - `q` ‚Äî –≤—ã—Ö–æ–¥
  - `\l` ‚Äî —Å–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
  - `CREATE DATABASE –Ω–∞–∑–≤–∞–Ω–∏–µ;` ‚Äî —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
  - `\c –Ω–∞–∑–≤–∞–Ω–∏–µ` ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  - `\conninfo` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ (–ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å–µ—Ä–≤–µ—Ä, –∞–¥—Ä–µ—Å, –ø–æ—Ä—Ç)
  - `DROP DATABASE –Ω–∞–∑–≤–∞–Ω–∏–µ;` ‚Äî —É–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
  - `CREATE TABLE –Ω–∞–∑–≤–∞–Ω–∏–µ(–ø–∞—Ä–∞–º–µ—Ç—Ä—ã);` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
  - `\d` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
  - `\d –Ω–∞–∑–≤–∞–Ω–∏–µ` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã
  - `DROP TABLE –Ω–∞–∑–≤–∞–Ω–∏–µ;` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É
  - `\dt` ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
  - `\h` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ SQL-–∫–æ–º–∞–Ω–¥–∞–º
  - `\copy <—Ç–∞–±–ª–∏—Ü–∞> TO 'file.csv' CSV HEADER` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ CSV
  - `\copy <—Ç–∞–±–ª–∏—Ü–∞> FROM 'file.csv' CSV HEADER` ‚Äî –∏–º–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã –∏–∑ CSV
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –≤ shell (Windows):
  - –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ: `psql \! chcp 1251`
  - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
    - –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–µ—Å—Ç—Ä: Win+R ‚Üí regedit ‚Üí
      `–ö–æ–º–ø—å—é—Ç–µ—Ä\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Command Processor`
    - –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `Autorun` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `chcp 1251`
    - [–í–∏–¥–µ–æ —Ä–µ—à–µ–Ω–∏–µ](https://youtu.be/nxGhGQFk34Y?si=dgzUUrlzaGbMrn1s)